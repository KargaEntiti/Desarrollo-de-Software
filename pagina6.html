<!DOCTYPE html>
<html lang="es">
<head>
	<title>tarjeta camila</title>
<style>
body {
  background-color: #CDD;
  text-align: center;
  justify-content: center;
  align-items: center;
  height: 100vh;
}
.container {
  display: flex;
  justify-content: center;
  align-items: center;
}
.tabla-turnos{
    border-collapse: collapse;
    margin: 0 auto;
    background-color: white;
}
.tabla-turnos th, .tabla-turnos td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: left;
}
.tabla-turnos th {
    background-color: white;
}

</style>

</head>
<body>
  <div class="container">
    </div>

	<h1>ver mis turnos como medico</h1>
<h2>elija una fecha</h2>
<input type="date" name="fecha_elegida" id="fecha" style="width: 200px; height: 30px; font-size: 16px;">
<p id="mostrarFecha"></p>
<h4>nota: seleccionar fecha 18/10/2024</h4>

  <script>
	// Obtener una referencia al elemento input de tipo date
const inputFecha = document.getElementById('fecha');

// Obtener una referencia al elemento donde se mostrará la fecha
const mostrarFecha = document.getElementById('mostrarFecha');

// Agregar un event listener al input para detectar cuando cambia el valor
inputFecha.addEventListener('change', () => {
  const fechaSeleccionada = new Date(inputFecha.value);
  const opciones = { day: '2-digit', month: '2-digit', year: 'numeric' };
  const fechaFormateada = fechaSeleccionada.toLocaleDateString('es-ES', opciones); // 'es-ES' para español en España
  mostrarFecha.textContent = `turnos del dia ${fechaFormateada}:`;
});

//turnos

const turnos = [
"18/10/2024,09:00,Juan Perez,12345678,Consulta de rutina",
	"18/10/2024,09:40,Juan Solari,1234555,Consulta de rutina",
   "18/10/2024,10:30,María García,8654321,Consulta de rutina",
"18/10/2024,10:50,Lucas Lopez,7654321,Revisión de analisis",
"18/10/2024,11:20,Norma Perez,33335678,Consulta de rutina",
"18/10/2024,11:40,Lorna Susana Suarez,77775678,Consulta de rutina",
"18/10/2024,12:00,Teresa Suarez,77775678,Consulta de rutina"
];
function buscarTurnosPorFecha() {
	const fechaSeleccionada = new Date(inputFecha.value);
	const turnosEncontrados = turnos.filter(turno => {
    	const [fechaTurno, hora, paciente, dni, motivo] = turno.split(',');
    	const partesFecha = fechaTurno.split('/');
    	const fechaTurnoDate = new Date(partesFecha[2], partesFecha[1] - 1, partesFecha[0]-1);
    	return fechaSeleccionada.getFullYear() === fechaTurnoDate.getFullYear() &&
           	fechaSeleccionada.getMonth() === fechaTurnoDate.getMonth() &&
           	fechaSeleccionada.getDate() === fechaTurnoDate.getDate();
	});

	// Crear la tabla y sus filas
	const tabla = document.createElement('table');
    tabla.classList.add('tabla-turnos');
	const encabezado = tabla.insertRow();
	encabezado.insertCell().textContent = 'Hora';
	encabezado.insertCell().textContent = 'Paciente';
	encabezado.insertCell().textContent = 'DNI';
	encabezado.insertCell().textContent = 'Motivo';

	turnosEncontrados.forEach(turno => {
    	const [fechaTurno, hora, paciente, dni, motivo] = turno.split(',');
    	const fila = tabla.insertRow();
    	fila.insertCell().textContent = hora;
    	fila.insertCell().textContent = paciente;
    	fila.insertCell().textContent = dni;
    	fila.insertCell().textContent = motivo;
	});

	// Mostrar la tabla
	const resultados = document.getElementById('mostrarFecha');
	resultados.innerHTML = ''; // Limpiar el contenido anterior
	resultados.appendChild(tabla);
}

// Agregar el event listener para buscar los turnos
inputFecha.addEventListener('change', buscarTurnosPorFecha);
  </script>
</body>
</html>